<!DOCTYPE html>
<html lang="pt" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event/Webinar</title>
  <link rel="stylesheet" href="./styles/tokens.css">
  <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
  <!-- Controls -->
  <div class="controls">
    <button id="locale-toggle">PT</button>
    <button id="theme-toggle">ğŸŒ™</button>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <span class="event-type" data-i18n="header.type">Webinar Gratuito</span>
      <h1 data-i18n="header.title">Dominando o Desenvolvimento Moderno</h1>

      <div class="event-meta">
        <div class="meta-item">
          <span>ğŸ“…</span>
          <span data-i18n="header.date">15 de Janeiro, 2025</span>
        </div>
        <div class="meta-item">
          <span>ğŸ•</span>
          <span data-i18n="header.time">14:00 - 16:00 BRT</span>
        </div>
        <div class="meta-item">
          <span>ğŸ“</span>
          <span data-i18n="header.location">Online via Zoom</span>
        </div>
      </div>

      <a href="#register" class="btn btn-primary" data-i18n="header.cta">Inscreva-se Gratuitamente</a>
    </div>
  </header>

  <!-- Speakers -->
  <section class="speakers">
    <div class="container">
      <div class="section-header">
        <h2 data-i18n="speakers.title">Palestrantes</h2>
        <p data-i18n="speakers.subtitle">Aprenda com especialistas da indÃºstria</p>
      </div>

      <div class="speakers-grid" id="speakers-grid">
        <!-- Speakers will be inserted by JS -->
      </div>
    </div>
  </section>

  <!-- Agenda -->
  <section class="agenda">
    <div class="container">
      <div class="section-header">
        <h2 data-i18n="agenda.title">Agenda</h2>
        <p data-i18n="agenda.subtitle">O que vocÃª vai aprender</p>
      </div>

      <div class="agenda-list" id="agenda-list">
        <!-- Agenda will be inserted by JS -->
      </div>
    </div>
  </section>

  <!-- Register -->
  <section id="register" class="register">
    <div class="container">
      <div class="section-header">
        <h2 data-i18n="register.title">Reserve sua vaga</h2>
        <p data-i18n="register.subtitle">Vagas limitadas - Inscreva-se agora!</p>
      </div>

      <form class="register-form" onsubmit="return handleSubmit(event)">
        <div class="form-group">
          <label data-i18n="register.name">Nome completo</label>
          <input type="text" required>
        </div>
        <div class="form-group">
          <label data-i18n="register.email">E-mail</label>
          <input type="email" required>
        </div>
        <div class="form-group">
          <label data-i18n="register.company">Empresa (opcional)</label>
          <input type="text">
        </div>
        <button type="submit" data-i18n="register.button">Confirmar InscriÃ§Ã£o</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p data-i18n="footer.copyright">Â© 2024 Sua Empresa. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
    let locale = localStorage.getItem('locale') || 'pt';
    let theme = localStorage.getItem('theme') || 'light';
    let translations = {};

    async function init() {
      await loadTranslations();
      applyTheme();
      applyTranslations();
      renderSpeakers();
      renderAgenda();
    }

    async function loadTranslations() {
      const ptRes = await fetch('./i18n/pt.json');
      const enRes = await fetch('./i18n/en.json');
      translations = {
        pt: await ptRes.json(),
        en: await enRes.json()
      };
    }

    function t(key) {
      const keys = key.split('.');
      let value = translations[locale];
      for (const k of keys) {
        value = value?.[k];
      }
      return value || key;
    }

    function applyTheme() {
      document.documentElement.setAttribute('data-theme', theme);
      document.getElementById('theme-toggle').textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    }

    function applyTranslations() {
      document.getElementById('locale-toggle').textContent = locale.toUpperCase();
      document.querySelectorAll('[data-i18n]').forEach(el => {
        el.textContent = t(el.getAttribute('data-i18n'));
      });
    }

    function renderSpeakers() {
      const grid = document.getElementById('speakers-grid');
      const speakers = t('speakers.list');
      if (!Array.isArray(speakers)) return;

      grid.innerHTML = speakers.map(s => `
        <div class="speaker-card">
          <div class="speaker-avatar">${s.avatar}</div>
          <h3>${s.name}</h3>
          <p class="speaker-role">${s.role}</p>
          <p class="speaker-bio">${s.bio}</p>
        </div>
      `).join('');
    }

    function renderAgenda() {
      const list = document.getElementById('agenda-list');
      const items = t('agenda.items');
      if (!Array.isArray(items)) return;

      list.innerHTML = items.map(item => `
        <div class="agenda-item">
          <div class="agenda-time">${item.time}</div>
          <div class="agenda-content">
            <h3>${item.title}</h3>
            <p>${item.description}</p>
          </div>
        </div>
      `).join('');
    }

    function handleSubmit(e) {
      e.preventDefault();
      alert(locale === 'pt' ? 'InscriÃ§Ã£o confirmada! Verifique seu e-mail.' : 'Registration confirmed! Check your email.');
      return false;
    }

    document.getElementById('theme-toggle').addEventListener('click', () => {
      theme = theme === 'dark' ? 'light' : 'dark';
      localStorage.setItem('theme', theme);
      applyTheme();
    });

    document.getElementById('locale-toggle').addEventListener('click', () => {
      locale = locale === 'pt' ? 'en' : 'pt';
      localStorage.setItem('locale', locale);
      applyTranslations();
      renderSpeakers();
      renderAgenda();
    });

    init();
  </script>
</body>
</html>
