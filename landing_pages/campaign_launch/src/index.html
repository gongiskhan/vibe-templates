<!DOCTYPE html>
<html lang="pt" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campaign Launch</title>
  <link rel="stylesheet" href="./styles/tokens.css">
  <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
  <!-- Controls -->
  <div class="controls">
    <button id="locale-toggle">PT</button>
    <button id="theme-toggle">ðŸŒ™</button>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <span class="hero-badge" data-i18n="hero.badge">LanÃ§amento Exclusivo</span>
      <h1 data-i18n="hero.title">Transforme sua forma de trabalhar</h1>
      <p data-i18n="hero.subtitle">Descubra a nova soluÃ§Ã£o que vai revolucionar sua produtividade.</p>

      <div class="countdown">
        <div class="countdown-item">
          <span class="number" id="days">00</span>
          <span class="label" data-i18n="countdown.days">Dias</span>
        </div>
        <div class="countdown-item">
          <span class="number" id="hours">00</span>
          <span class="label" data-i18n="countdown.hours">Horas</span>
        </div>
        <div class="countdown-item">
          <span class="number" id="minutes">00</span>
          <span class="label" data-i18n="countdown.minutes">Min</span>
        </div>
        <div class="countdown-item">
          <span class="number" id="seconds">00</span>
          <span class="label" data-i18n="countdown.seconds">Seg</span>
        </div>
      </div>

      <div class="cta-buttons">
        <a href="#signup" class="btn btn-primary" data-i18n="hero.cta">Quero Acesso Antecipado</a>
        <a href="#features" class="btn btn-secondary" data-i18n="hero.learnMore">Saiba Mais</a>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features">
    <div class="container">
      <div class="section-header">
        <h2 data-i18n="features.title">Por que escolher nossa soluÃ§Ã£o?</h2>
        <p data-i18n="features.subtitle">Desenvolvido pensando em vocÃª.</p>
      </div>

      <div class="features-grid" id="features-grid">
        <!-- Features will be inserted by JS -->
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section id="signup" class="cta-section">
    <div class="container">
      <h2 data-i18n="cta.title">NÃ£o perca o lanÃ§amento</h2>
      <p data-i18n="cta.subtitle">Seja o primeiro a experimentar.</p>

      <form class="email-form" onsubmit="return handleSubmit(event)">
        <input type="email" required data-i18n-placeholder="cta.placeholder" placeholder="Seu melhor e-mail">
        <button type="submit" data-i18n="cta.button">Garantir Minha Vaga</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p data-i18n="footer.copyright">Â© 2024 Sua Empresa. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
    // State
    let locale = localStorage.getItem('locale') || 'pt';
    let theme = localStorage.getItem('theme') || 'light';
    let translations = {};

    // Initialize
    async function init() {
      await loadTranslations();
      applyTheme();
      applyTranslations();
      renderFeatures();
      startCountdown();
    }

    async function loadTranslations() {
      const ptRes = await fetch('./i18n/pt.json');
      const enRes = await fetch('./i18n/en.json');
      translations = {
        pt: await ptRes.json(),
        en: await enRes.json()
      };
    }

    function t(key) {
      const keys = key.split('.');
      let value = translations[locale];
      for (const k of keys) {
        value = value?.[k];
      }
      return value || key;
    }

    function applyTheme() {
      document.documentElement.setAttribute('data-theme', theme);
      document.getElementById('theme-toggle').textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
    }

    function applyTranslations() {
      document.getElementById('locale-toggle').textContent = locale.toUpperCase();

      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = t(key);
      });

      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        el.placeholder = t(key);
      });
    }

    function renderFeatures() {
      const grid = document.getElementById('features-grid');
      const items = t('features.items');
      if (!Array.isArray(items)) return;

      grid.innerHTML = items.map(item => `
        <div class="feature-card">
          <div class="feature-icon">${item.icon}</div>
          <h3>${item.title}</h3>
          <p>${item.description}</p>
        </div>
      `).join('');
    }

    function startCountdown() {
      // Set launch date to 30 days from now
      const launchDate = new Date();
      launchDate.setDate(launchDate.getDate() + 30);

      function update() {
        const now = new Date();
        const diff = launchDate - now;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById('days').textContent = String(days).padStart(2, '0');
        document.getElementById('hours').textContent = String(hours).padStart(2, '0');
        document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
        document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
      }

      update();
      setInterval(update, 1000);
    }

    function handleSubmit(e) {
      e.preventDefault();
      alert(locale === 'pt' ? 'Obrigado! VocÃª serÃ¡ notificado.' : 'Thank you! You will be notified.');
      return false;
    }

    // Event listeners
    document.getElementById('theme-toggle').addEventListener('click', () => {
      theme = theme === 'dark' ? 'light' : 'dark';
      localStorage.setItem('theme', theme);
      applyTheme();
    });

    document.getElementById('locale-toggle').addEventListener('click', () => {
      locale = locale === 'pt' ? 'en' : 'pt';
      localStorage.setItem('locale', locale);
      applyTranslations();
      renderFeatures();
    });

    init();
  </script>
</body>
</html>
